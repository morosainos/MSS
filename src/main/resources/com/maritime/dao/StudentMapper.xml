<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.maritime.dao.StudentMapper">
  <resultMap id="BaseResultMap" type="com.maritime.models.Student">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Apr 19 22:55:14 CST 2017.
    -->
    <id column="sid" jdbcType="INTEGER" property="sid" />
    <result column="sname" jdbcType="VARCHAR" property="sname" />
    <result column="ssex" jdbcType="CHAR" property="ssex" />
    <result column="snumber" jdbcType="BIGINT" property="snumber" />
    <result column="spassword" jdbcType="VARCHAR" property="spassword" />
    <result column="is_active" jdbcType="BIT" property="isActive" />
    <result column="stype" jdbcType="INTEGER" property="stype" />
    <result column="sdate" jdbcType="VARCHAR" property="sdate" />
    <result column="sacademy" jdbcType="INTEGER" property="sacademy" />
    <result column="smajor" jdbcType="INTEGER" property="smajor" />
    <result column="sclass" jdbcType="INTEGER" property="sclass" />
    <result column="sdescription" jdbcType="VARCHAR" property="sdescription" />

    <result column="studenttype" jdbcType="VARCHAR" property="studenttype" />
    <result column="academy" jdbcType="VARCHAR" property="academy" />
    <result column="major" jdbcType="VARCHAR" property="major" />
    <result column="studentclass" jdbcType="INTEGER" property="studentclass" />
  </resultMap>
  <sql id="Base_Column_List">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Apr 19 22:55:14 CST 2017.
    -->
    sid, sname, ssex, snumber, spassword, is_active, stype, sdate, sacademy, smajor, 
    sclass, sdescription
  </sql>
  <select id="selectByPrimaryKey" parameterType="java.lang.Integer" resultMap="BaseResultMap">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Apr 19 22:55:14 CST 2017.
    -->
    select
    sid, sname, ssex, snumber, spassword, s.is_active, stype, sdate, sacademy, smajor, sclass, sdescription,
    type.ldValue as studenttype,aca.aname as academy,maj.mname as major,cla.cnum as studentclass
    from maritime.student s
    inner join maritime.listdata type on stype = type.ldid
    inner join maritime.academy aca on sacademy = aca.aid
    inner join maritime.major maj on smajor = maj.mid
    inner join maritime.class cla on sclass = cla.cid
    where sid = #{sid,jdbcType=INTEGER}
  </select>

  <select id="selectByAccount" parameterType="java.lang.Long" resultMap="BaseResultMap">
        select
        <include refid="Base_Column_List" />
        from maritime.student
        where snumber = #{sid,jdbcType=BIGINT} and is_active = true
  </select>

  <delete id="deleteByPrimaryKey" parameterType="java.lang.Integer">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Apr 19 22:55:14 CST 2017.
    -->
    delete from maritime.student
    where sid = #{sid,jdbcType=INTEGER}
  </delete>
  <insert id="insert" parameterType="com.maritime.models.Student">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Apr 19 22:55:14 CST 2017.
    -->
    insert into maritime.student (sid, sname, ssex, 
      snumber, spassword, is_active, 
      stype, sdate, sacademy, 
      smajor, sclass, sdescription
      )
    values (#{sid,jdbcType=INTEGER}, #{sname,jdbcType=VARCHAR}, #{ssex,jdbcType=CHAR}, 
      #{snumber,jdbcType=BIGINT}, #{spassword,jdbcType=VARCHAR}, #{isActive,jdbcType=BIT}, 
      #{stype,jdbcType=INTEGER}, #{sdate,jdbcType=VARCHAR}, #{sacademy,jdbcType=INTEGER}, 
      #{smajor,jdbcType=INTEGER}, #{sclass,jdbcType=INTEGER}, #{sdescription,jdbcType=VARCHAR}
      )
  </insert>
  <insert id="insertSelective" parameterType="com.maritime.models.Student">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Apr 19 22:55:14 CST 2017.
    -->
    insert into maritime.student
    <trim prefix="(" suffix=")" suffixOverrides=",">
      <if test="sid != null">
        sid,
      </if>
      <if test="sname != null">
        sname,
      </if>
      <if test="ssex != null">
        ssex,
      </if>
      <if test="snumber != null">
        snumber,
      </if>
      <if test="spassword != null">
        spassword,
      </if>
      <if test="isActive != null">
        is_active,
      </if>
      <if test="stype != null">
        stype,
      </if>
      <if test="sdate != null">
        sdate,
      </if>
      <if test="sacademy != null">
        sacademy,
      </if>
      <if test="smajor != null">
        smajor,
      </if>
      <if test="sclass != null">
        sclass,
      </if>
      <if test="sdescription != null">
        sdescription,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides=",">
      <if test="sid != null">
        #{sid,jdbcType=INTEGER},
      </if>
      <if test="sname != null">
        #{sname,jdbcType=VARCHAR},
      </if>
      <if test="ssex != null">
        #{ssex,jdbcType=CHAR},
      </if>
      <if test="snumber != null">
        #{snumber,jdbcType=BIGINT},
      </if>
      <if test="spassword != null">
        #{spassword,jdbcType=VARCHAR},
      </if>
      <if test="isActive != null">
        #{isActive,jdbcType=BIT},
      </if>
      <if test="stype != null">
        #{stype,jdbcType=INTEGER},
      </if>
      <if test="sdate != null">
        #{sdate,jdbcType=VARCHAR},
      </if>
      <if test="sacademy != null">
        #{sacademy,jdbcType=INTEGER},
      </if>
      <if test="smajor != null">
        #{smajor,jdbcType=INTEGER},
      </if>
      <if test="sclass != null">
        #{sclass,jdbcType=INTEGER},
      </if>
      <if test="sdescription != null">
        #{sdescription,jdbcType=VARCHAR},
      </if>
    </trim>
  </insert>
  <update id="updateByPrimaryKeySelective" parameterType="com.maritime.models.Student">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Apr 19 22:55:14 CST 2017.
    -->
    update maritime.student
    <set>
      <if test="sname != null">
        sname = #{sname,jdbcType=VARCHAR},
      </if>
      <if test="ssex != null">
        ssex = #{ssex,jdbcType=CHAR},
      </if>
      <if test="snumber != null">
        snumber = #{snumber,jdbcType=BIGINT},
      </if>
      <if test="spassword != null">
        spassword = #{spassword,jdbcType=VARCHAR},
      </if>
      <if test="isActive != null">
        is_active = #{isActive,jdbcType=BIT},
      </if>
      <if test="stype != null">
        stype = #{stype,jdbcType=INTEGER},
      </if>
      <if test="sdate != null">
        sdate = #{sdate,jdbcType=VARCHAR},
      </if>
      <if test="sacademy != null">
        sacademy = #{sacademy,jdbcType=INTEGER},
      </if>
      <if test="smajor != null">
        smajor = #{smajor,jdbcType=INTEGER},
      </if>
      <if test="sclass != null">
        sclass = #{sclass,jdbcType=INTEGER},
      </if>
      <if test="sdescription != null">
        sdescription = #{sdescription,jdbcType=VARCHAR},
      </if>
    </set>
    where sid = #{sid,jdbcType=INTEGER}
  </update>
  <update id="updateByPrimaryKey" parameterType="com.maritime.models.Student">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Apr 19 22:55:14 CST 2017.
    -->
    update maritime.student
    set sname = #{sname,jdbcType=VARCHAR},
      ssex = #{ssex,jdbcType=CHAR},
      snumber = #{snumber,jdbcType=BIGINT},
      spassword = #{spassword,jdbcType=VARCHAR},
      is_active = #{isActive,jdbcType=BIT},
      stype = #{stype,jdbcType=INTEGER},
      sdate = #{sdate,jdbcType=VARCHAR},
      sacademy = #{sacademy,jdbcType=INTEGER},
      smajor = #{smajor,jdbcType=INTEGER},
      sclass = #{sclass,jdbcType=INTEGER},
      sdescription = #{sdescription,jdbcType=VARCHAR}
    where sid = #{sid,jdbcType=INTEGER}
  </update>
</mapper>