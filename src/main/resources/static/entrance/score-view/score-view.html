<div class="scoreview">
<div name="scoreTable">
	<div class="content">
		<div style="float: right;">
			<!--show drop down menu-->
			<div isteven-multi-select input-model="filter" output-model="outputSelect"
				button-label="name" item-label="name" tick-property="ticked"></div>
		</div>
		<table ng-table="tableParams"
				class="table table-striped table-condensed table-hover table-align table-bordered">
			<tr ng-repeat="score in $data" ng-form="scoreForm"
				demo-tracked-table-row="score">

				<td ng-if="filter[0].ticked" data-title="'学期'"
					filter="{term : 'text'}" 
					sortable="'term'" header-class="'active'" 
					demo-tracked-table-cell >
					{{score.term}}</td>
					
				<td ng-if="filter[1].ticked" data-title="'课程号'" 
					filter="{cnumber: 'text'}" sortable="'cnumber'" 
					header-class="'active'" demo-tracked-table-cell
					>{{score.cnumber}}</td>
					
				<td ng-if="filter[2].ticked" data-title="'所属学院'"
					filter="{aname: 'text'}" sortable="'aname'"
					header-class="'active'" demo-tracked-table-cell
				    ng-form="aname">{{score.cname}}</td>
				    
				<td ng-if="filter[3].ticked" data-title="'课程名'"
					filter="{cname: 'text'}" sortable="'cname'"
					header-class="'active'" demo-tracked-table-cell
				    ><button style="border: 0;text-align: center;vertical-align: middle;color:grey;" 
						class="btn btn-default" title="查看该课所有成绩"
					ng-click="viewScore(score.mapid)">{{score.cname}}</button></td>
				 
				<td ng-if="filter[5].ticked" data-title="'课程种类'"
					filter="{ccategory: 'text'}" sortable="'ccategory'"
					header-class="'active'" demo-tracked-table-cell
				    >{{score.ccategory}}</td>
				    
				<td ng-if="filter[4].ticked" data-title="'课程类型'"
					filter="{ctype: 'text'}" sortable="'ctype'"
					header-class="'active'" demo-tracked-table-cell
				    >{{score.ctype}}</td>
				    
				<td ng-if="filter[6].ticked" data-title="'课程学时'"
					filter="{ chour: 'text'}" sortable="'chour'"
					header-class="'active'" demo-tracked-table-cell
					>{{score.chour}}</td>
					
				<td ng-if="filter[7].ticked" data-title="'课程学分'"
					filter="{ cpoint: 'text'}" sortable="'cpoint'"
					header-class="'active'" demo-tracked-table-cell
					>{{score.cpoint}}</td>

				<td ng-if="filter[8].ticked" data-title="'课程老师'"
					filter="{ tname: 'text'}" sortable="'tname'"
					header-class="'active'" demo-tracked-table-cell
					>{{score.tname}}</td>
					
				<td ng-if="filter[11].ticked" data-title="'总分'"
					filter="{ totalscore: 'text'}" sortable="'totalscore'"
					header-class="'active'" demo-tracked-table-cell
					>{{score.totalscore}}</td>
					
				<td ng-if="filter[9].ticked" data-title="'期末成绩'"
					filter="{ finalscore: 'text'}" sortable="'finalscore'"
					header-class="'active'" demo-tracked-table-cell
					>{{score.finalscore}}</td>

				<td ng-if="filter[10].ticked" data-title="'总学分'"
					filter="{finalpoint: 'text'}" sortable="'finalpoint'"
					header-class="'active'" demo-tracked-table-cell
					>{{score.finalpoint}}</td>
			</tr>
		</table>
	</div>
</div>
</div>


<!--template for edit modal-->
<script type="text/ng-template" id="viewScore.html">
	<div class="modalCustom">
		<div>
			<div class="modal-content">
				<!--header.....-->
				<div class="modal-header" style="height: 50px;">
				<a class="close glyphicon glyphicon-remove" style="color: darkred;" ng-click="cancel()" autofocus="false"></a>
					<p class="text-left">
						<span style="font-size: 23px; font-weight: 600;">查看成绩</span>
					</p>
				</div>
				<!--main body......-->
				<div class="modal-body">
					<div class="content">
					<table ng-table="innerParams"
							class="table table-striped table-condensed table-hover table-align table-bordered">
						<tr ng-repeat="scoreall in $data" ng-form="scoreAllForm"
							demo-tracked-table-row="scoreall">
							<td data-title="'考试名称'"
								filter="{ename : 'text'}" 
								sortable="'ename'" header-class="'active'" 
								demo-tracked-table-cell >
								{{scoreall.ename}}</td>
								
							<td data-title="'考试类型'" 
								filter="{examtype: 'text'}" sortable="'examtype'" 
								header-class="'active'" demo-tracked-table-cell
								>{{scoreall.examtype}}</td>
								
							<td data-title="'考试形式'"
								filter="{eform: 'text'}" sortable="'eform'"
								header-class="'active'" demo-tracked-table-cell
							    >{{scoreall.eform}}</td>
							    
							<td data-title="'考试时长'"
								filter="{totaltime: 'text'}" sortable="'totaltime'"
								header-class="'active'" demo-tracked-table-cell
							    >{{scoreall.totaltime}}</td>
							    
							<td data-title="'考试总分'"
								filter="{totalscore: 'text'}" sortable="'totalscore'"
								header-class="'active'" demo-tracked-table-cell
							    >{{scoreall.totalscore}}</td>
							    
							<td data-title="'考试成绩'"
								filter="{score: 'text'}" sortable="'score'"
								header-class="'active'" demo-tracked-table-cell
							    >{{scoreall.score}}</td>
						</tr>
					</table>
				</div>
				</div>
				<!--modal body end-->
			</div>
		</div>
	</div>
</script>
